<?xml version="1.0" encoding="utf-8"?>
<form>
	<fields name="search">
		<field name="field"
			type="hidden"
			default="*"
			label="JSEARCH_FILTER_LABEL"
			labelclass="pull-left"
			class="input-small"
			>
			<option value="*">JALL</option>
			<option value="schedule.id">處方箋編號</option>
		</field>

		<field
			name="index"
			type="text"
			label="JSEARCH_FILTER_LABEL"
			hint="JSEARCH_FILTER"
			/>

		<!-- For multiple search
		<fieldset name="multisearch">
			<field
				name="schedule.title"
				type="text"
				label="Title"
				hint="JSEARCH_FILTER"
				/>

			<field
				name="category.title"
				type="text"
				label="Category"
				hint="JSEARCH_FILTER"
				/>
		</fieldset>
		-->
	</fields>

	<!-- Filter -->
	<fields name="filter">
		<field
			type="note"
			label="COM_SCHEDULE_FILTER_NOTE_GENERAL"
			class="filter-title"
			/>

		<field
			name="schedule.status"
			type="list"
			default=""
			label="排程狀態"
			onchange="this.form.submit();"
			>
			<option></option>
			<option value="scheduled">已排程</option>
			<option value="emergency">急件</option>
			<option value="deleted">已刪除</option>
			<option value="cancelonly">取消要退單</option>
			<option value="cancelreject">取消不退單</option>
			<option value="pause">暫緩</option>
		</field>

		<field
			name="schedule.institute_id"
			type="list"
			default=""
			label="所屬機構"
			onchange="this.form.submit();"
			>
			<option></option>
		</field>

		<field
			name="schedule.city"
			type="list"
			default=""
			label="縣市"
			onchange="this.form.submit();"
			>
			<option></option>
		</field>

		<field
			name="schedule.area"
			type="list"
			default=""
			label="區域"
			onchange="this.form.submit();"
			>
			<option></option>
		</field>

		<field
			name="schedule.type"
			type="list"
			default=""
			label="類別"
			onchange="this.form.submit();"
			>
			<option></option>
			<option value="individual">散客</option>
			<option value="resident">住民</option>
			<option value="discuss">討論</option>
			<option value="speech">演講</option>
			<option value="collect">拿處方箋</option>
			<option value="visit">新簽約後拜訪</option>
			<option value="other">其他</option>
		</field>

		<field
			name="schedule.date_start"
			type="calendar"
			default=""
			format="%Y-%m-%d"
			label="預計外送日(起)"
			onchange="this.form.submit();"
			/>

		<field
			name="schedule.date_end"
			type="calendar"
			format="%Y-%m-%d"
			default=""
			label="預計外送日(迄)"
			onchange="this.form.submit();"
			/>

		<field
			name="route.sender_id"
			type="sql"
			query="SELECT `id`, `name` FROM #__schedule_senders"
			key_field="id"
			value_field="name"
			default=""
			label="外送藥師"
			onchange="this.form.submit();"
			>
			<option></option>
		</field>

		<field
			name="schedule.cancel"
			type="list"
			default=""
			label="刪除原因"
			onchange="this.form.submit();"
			>
			<option></option>
			<option value="badservice">服務不周</option>
			<option value="changedrug">醫師換藥</option>
			<option value="passaway">往生</option>
			<option value="other">其他</option>
		</field>

		<field
			name="schedule.sorted"
			type="list"
			default=""
			label="分藥狀態"
			onchange="this.form.submit();"
			>
			<option></option>
			<option value="1">已分藥</option>
			<option value="0">未分藥</option>
		</field>
	</fields>

	<fields name="list">
		<field
			name="fullordering"
			type="list"
			default="schedule.id ASC"
			label="COM_CONTENT_LIST_FULL_ORDERING"
			description="COM_CONTENT_LIST_FULL_ORDERING_DESC"
			onchange="this.form.submit();"
			>
			<option value="">JGLOBAL_SORT_BY</option>
			<option value="schedule.id ASC">處方箋編號升冪排序</option>
			<option value="schedule.id DESC">處方箋編號降冪排序</option>
			<option value="schedule.type ASC">類別升冪排序</option>
			<option value="schedule.type DESC">類別降冪排序</option>
			<option value="schedule.type, schedule.institute_id, schedule.customer_id ASC">所屬機構/所屬會員升冪排序</option>
			<option value="schedule.type, schedule.institute_id, schedule.customer_id DESC">所屬機構/所屬會員降冪排序</option>
			<option value="schedule.city ASC">縣市升冪排序</option>
			<option value="schedule.city DESC">縣市降冪排序</option>
			<option value="schedule.area ASC">區域升冪排序</option>
			<option value="schedule.area DESC">區域降冪排序</option>
			<option value="schedule.customer_id ASC">客戶升冪排序</option>
			<option value="schedule.customer_id DESC">客戶降冪排序</option>
			<option value="schedule.date ASC">預計外送日升冪排序</option>
			<option value="schedule.date DESC">預計外送日降冪排序</option>
			<option value="route.sender_id ASC">外送藥師升冪排序</option>
			<option value="route.sender_id DESC">外送藥師降冪排序</option>
			<option value="schedule.sorted ASC">分藥升冪排序</option>
			<option value="schedule.sorted DESC">分藥降冪排序</option>
			<option value="schedule.status ASC">狀態升冪排序</option>
			<option value="schedule.status DESC">狀態降冪排序</option>
		</field>

		<field
			name="limit"
			type="limitbox"
			class="inputbox input-mini"
			default="25"
			label="COM_CONTENT_LIST_LIMIT"
			description="COM_CONTENT_LIST_LIMIT_DESC"
			onchange="this.form.submit();"
			/>
	</fields>
</form>
